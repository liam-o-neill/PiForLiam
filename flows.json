[{"id":"87bd6d05.22ae4","type":"tab","label":"LLAP Hub"},{"id":"6b3e3f7a.0357f","type":"tab","label":"Light Levels"},{"id":"fbc89743.be5a68","type":"tab","label":"Kitchen LEDs"},{"id":"b30b99da.aab058","type":"tab","label":"Mote Phat","disabled":false},{"id":"55a9dafd.794544","type":"tab","label":"User Interface"},{"id":"ba0c44d1.a4a2a8","type":"tab","label":"Temps"},{"id":"b48bac2f.f9e9f","type":"tab","label":"Sonoff1","disabled":false,"info":""},{"id":"5672d64f.fff7b8","type":"serial-port","z":"","serialport":"/dev/ttyAMA0","serialbaud":"115200","databits":"8","parity":"none","stopbits":"1","newline":"12","bin":"false","out":"count","addchar":false},{"id":"133add44.74d873","type":"serial-port","z":"","serialport":"/dev/ttyAMA0","serialbaud":"115200","databits":"8","parity":"none","stopbits":"1","newline":"1","bin":"false","out":"count","addchar":false},{"id":"f99ada80.47b138","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"willTopic":"","willQos":"0","willPayload":"","birthTopic":"","birthQos":"0","birthPayload":""},{"id":"d40fd446.a76a88","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"willTopic":"","willQos":"0","willPayload":"","birthTopic":"","birthQos":"0","birthPayload":""},{"id":"ab7f9625.e26c38","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"willTopic":"","willQos":"0","willPayload":"","birthTopic":"","birthQos":"0","birthPayload":""},{"id":"1b3b61b.3f1169e","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"willTopic":"","willQos":"0","willPayload":"","birthTopic":"","birthQos":"0","birthPayload":""},{"id":"cb22e126.4c3cb","type":"ui_group","z":"","name":"Status","tab":"a9d48c88.3304d","order":1,"disp":true,"width":"10"},{"id":"394970e8.eeb7b","type":"ui_group","z":"","name":"Light Levels","tab":"a9d48c88.3304d","order":2,"disp":true,"width":"10"},{"id":"1f3f30a6.6a314f","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"willTopic":"","willQos":"0","willPayload":"","birthTopic":"","birthQos":"0","birthPayload":""},{"id":"a9d48c88.3304d","type":"ui_tab","z":"","name":"Home","icon":"dashboard"},{"id":"53e1fada.b348c4","type":"twitter-credentials","z":"","screen_name":"@LiamONeill34"},{"id":"c11713c1.ea5e8","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"darkTheme":{"default":"#097479","baseColor":"#50c8cb","baseFont":"Verdana,Verdana,Geneva,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","reset":false},"themeState":{"base-color":{"default":"#097479","value":"#097479","edited":false},"page-titlebar-backgroundColor":{"value":"#50c8cb","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#8bdbdd","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#50c8cb","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"Verdana,Verdana,Geneva,sans-serif"}}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"e66aef86.75fd8","type":"ui_tab","z":"","name":"Temperature","icon":"dashboard","order":2},{"id":"84567535.c79908","type":"ui_group","z":"","name":"Temps","tab":"e66aef86.75fd8","order":1,"disp":true,"width":"16"},{"id":"aa7e6c16.ae98","type":"ui_group","z":"","name":"Battery","tab":"e66aef86.75fd8","order":2,"disp":true,"width":"14"},{"id":"816877db.4f1978","type":"ui_group","z":"","name":"Control","tab":"a9d48c88.3304d","order":3,"disp":true,"width":"10"},{"id":"d55ecf61.97c13","type":"serial in","z":"87bd6d05.22ae4","name":"SliceOfRadioIn","serial":"133add44.74d873","x":323.75462341308594,"y":102.8865737915039,"wires":[["677a92ba.b2069c","b3a08f84.fa1f2"]]},{"id":"e0efd370.af895","type":"debug","z":"87bd6d05.22ae4","name":"dbSliceOfRadioIn","active":true,"console":"false","complete":"true","x":780.7546234130859,"y":48.773162841796875,"wires":[]},{"id":"677a92ba.b2069c","type":"function","z":"87bd6d05.22ae4","name":"CreateLLAPMessage","func":"// name: CreateLLAPMessage\n// outputs: 2\n// anything stored in context is kept available for next time we get called\ncontext.buff = context.buff || \"\";\ncontext.count = context.count || 0;\nfailedMsg=\"\";\n\n// wait for an a and reset the buffer and counter\nif (msg.payload == \"a\") { \n        if (context.count !== 0) {\n         failedMsg = context.buff;\n        }\n        context.count = 0; \n        context.buff = \"\"; \n} // this does mean the a must NOT appear elsewhere in the message\n\n// add payload to the buffer and increase the count\ncontext.buff = context.buff + msg.payload;\ncontext.count += 1;\n// when we reach 11 then output the whole message, assumes length is the a plus 11 - may need to tweak...\nif (context.count == 12) {\n    msg.topic = \"PiForLiam/Received/\" + context.buff.slice(1,3);\t// return the first two chars as the topic\n    msg.payload = context.buff.slice(3);\t// return rest of the buffer as the payload\n    context.count = 0;\n    return [msg,null];\n}\nif (failedMsg !== \"\") {\n    fmsg.payload=failedMsg;\n    return [null,fmsg]\n}\nreturn [null,null];","outputs":"2","noerr":0,"x":546.7569427490234,"y":103.125,"wires":[["e0efd370.af895","27fe9034.3cbe8"],["36947d65.f723e2","31b04e0e.c24922"]]},{"id":"36947d65.f723e2","type":"debug","z":"87bd6d05.22ae4","name":"dbFailedMsg","active":false,"console":"false","complete":"true","x":764.7592620849609,"y":155.43983459472656,"wires":[]},{"id":"27fe9034.3cbe8","type":"mqtt out","z":"87bd6d05.22ae4","name":"MQTTReceieved","topic":"","qos":"","retain":"","broker":"f99ada80.47b138","x":779.7616119384766,"y":94.7037124633789,"wires":[]},{"id":"c9836333.92fd9","type":"mqtt in","z":"87bd6d05.22ae4","name":"MQTTTransmit","topic":"PiForLiam/Transmit","qos":"2","broker":"f99ada80.47b138","x":334.1666564941406,"y":252.3333282470703,"wires":[["af92b62d.15aef8","78de0a9e.b7bb84"]]},{"id":"af92b62d.15aef8","type":"serial out","z":"87bd6d05.22ae4","name":"SliceOfRadioOut","serial":"133add44.74d873","x":578.1666564941406,"y":253.6666717529297,"wires":[]},{"id":"78de0a9e.b7bb84","type":"debug","z":"87bd6d05.22ae4","name":"dbSliceOfRadioOut","active":true,"console":"false","complete":"payload","x":572.166675567627,"y":301.00001525878906,"wires":[]},{"id":"1511ff01.b688c1","type":"inject","z":"87bd6d05.22ae4","name":"","topic":"","payload":"aKLRELAYA---","payloadType":"str","repeat":"","crontab":"","once":false,"x":364.1666564941406,"y":355.00001525878906,"wires":[["af92b62d.15aef8"]]},{"id":"3c24f83e.66da78","type":"file","z":"87bd6d05.22ae4","name":"FailedMessageLog","filename":"/home/pi/failedMessageLog.txt","appendNewline":true,"createDir":false,"overwriteFile":"false","x":969.5,"y":209.6666717529297,"wires":[]},{"id":"31b04e0e.c24922","type":"function","z":"87bd6d05.22ae4","name":"prepFailedMessage","func":"time = new Date();\nfailedMsg = msg.payload;\nmsg.payload = time + \" : \" + failedMsg;\nreturn msg;","outputs":1,"noerr":0,"x":969.5,"y":157.6666717529297,"wires":[["3c24f83e.66da78"]]},{"id":"b3a08f84.fa1f2","type":"debug","z":"87bd6d05.22ae4","name":"dbSerialIn","active":false,"console":"false","complete":"payload","x":475.5,"y":167,"wires":[]},{"id":"4448397c.8cbb48","type":"function","z":"6b3e3f7a.0357f","name":"PrepareLightLevelsDB","func":"if (msg.payload.slice(1,4)==\"VAL\") {\n    device=2;\n    time=new Date().toString();\n    value=msg.payload.slice(4,9);\n    msg.topic=\"INSERT INTO lightLevel(device,time,value) VALUES (\" + device +\",'\" + time + \"',\" + value + \")\";\n    return [msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\") {\n    return [null,msg];\n}\n\n","outputs":"2","noerr":0,"x":387.99998474121094,"y":231.0000228881836,"wires":[["4fa855ac.54359c","f2970737.37b268"],["6cf65a2c.d589e4"]]},{"id":"76144e2d.961c4","type":"inject","z":"6b3e3f7a.0357f","name":"","topic":"LL","payload":"LVAL4.296","payloadType":"str","repeat":"","crontab":"","once":false,"x":134.0023193359375,"y":172.02777862548828,"wires":[["4448397c.8cbb48"]]},{"id":"4fa855ac.54359c","type":"debug","z":"6b3e3f7a.0357f","name":"dbSQL","active":false,"console":"false","complete":"true","x":646.0092926025391,"y":142.80555725097656,"wires":[]},{"id":"95933e47.f1445","type":"mqtt in","z":"6b3e3f7a.0357f","name":"MQTTLightLevel","topic":"PiForLiam/Received/LL","qos":"2","broker":"d40fd446.a76a88","x":122.0023193359375,"y":225.8912124633789,"wires":[["4448397c.8cbb48"]]},{"id":"6cf65a2c.d589e4","type":"debug","z":"6b3e3f7a.0357f","name":"dbLLBattery","active":false,"console":"false","complete":"true","x":652.7592620849609,"y":283.91666412353516,"wires":[]},{"id":"f2970737.37b268","type":"function","z":"6b3e3f7a.0357f","name":"checkDayNight","func":"value=msg.payload.slice(4,9);\n//var v = context.get('oldValue') || 0;\n//var d = context.get('daynight') || \"night\";\n//context.set('oldValue',v);\n//context.set('daynight',d);\nmsg.payload=null;\nif (value < 40) {\n    if (context.get('oldValue') < 40) {\n        if (context.get('daynight') ===\"day\") {\n            msg.payload = \"night\";\n        }    \n        context.set('daynight', \"night\");\n    }\n} else if (value > 55) {\n    if (context.get('oldValue') > 55) {\n        if (context.get('daynight') === \"night\") {\n            msg.payload = \"day\";\n        }    \n        context.set('daynight', \"day\");\n    }\n}\ncontext.set('oldValue', value);\nif (msg.payload !== null) {\n    return msg;\n}    ","outputs":1,"noerr":0,"x":663.7615814208984,"y":93.96295928955078,"wires":[["40b4a25b.9c36dc"]]},{"id":"40b4a25b.9c36dc","type":"mqtt out","z":"6b3e3f7a.0357f","name":"DayNight","topic":"PiForLiam/daynight/","qos":"2","retain":"","broker":"d40fd446.a76a88","x":840.9999847412109,"y":94,"wires":[]},{"id":"88f7b299.e588f","type":"inject","z":"6b3e3f7a.0357f","name":"","topic":"","payload":"LVAL4.296","payloadType":"str","repeat":"","crontab":"","once":false,"x":377.75926208496094,"y":90.65277862548828,"wires":[["f2970737.37b268"]]},{"id":"9b85ff5f.4822a","type":"inject","z":"6b3e3f7a.0357f","name":"","topic":"","payload":"LVAL94.29","payloadType":"str","repeat":"","crontab":"","once":false,"x":374.75694274902344,"y":49.65740966796875,"wires":[["f2970737.37b268"]]},{"id":"e4bdb81b.db2208","type":"inject","z":"6b3e3f7a.0357f","name":"","topic":"","payload":"BATT2.70-","payloadType":"str","repeat":"","crontab":"","once":false,"x":116.76388549804688,"y":128.65045928955078,"wires":[["4448397c.8cbb48"]]},{"id":"1a1ba15a.d8302f","type":"mqtt in","z":"fbc89743.be5a68","name":"MQTTKitchenPIR","topic":"PiForLiam/Received/KP","qos":"2","broker":"ab7f9625.e26c38","x":164.76158142089844,"y":111.52083587646484,"wires":[["2d9177d4.d7cfd8"]]},{"id":"6f792430.521cec","type":"mqtt out","z":"fbc89743.be5a68","name":"MQTTKitchenRelayOut","topic":"PiForLiam/Transmit","qos":"2","retain":"","broker":"ab7f9625.e26c38","x":850.7639007568359,"y":222.03705596923828,"wires":[]},{"id":"2d9177d4.d7cfd8","type":"switch","z":"fbc89743.be5a68","name":"SwitchKitchenPIR","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"BATT","vt":"str"},{"t":"cont","v":"BUTTONAON","vt":"str"},{"t":"cont","v":"BUTTONAOF","vt":"str"}],"checkall":"true","outputs":3,"x":395.75694274902344,"y":114.16667175292969,"wires":[["2b9649d9.831906"],["697325dc.37c2dc","6211d245.f68a2c"],["697325dc.37c2dc","6211d245.f68a2c"]]},{"id":"2b9649d9.831906","type":"debug","z":"fbc89743.be5a68","name":"dbBatteryKitchenPIR","active":false,"console":"false","complete":"payload","x":619.7616119384766,"y":44.206016540527344,"wires":[]},{"id":"697325dc.37c2dc","type":"function","z":"fbc89743.be5a68","name":"ControlKitchenLights","func":"state = msg.payload.slice(7,9);\ntime=new Date();\nswitch (state) {\n    case \"ON\":\n        msg.payload=\"aKLRELAYAON-\";\n        flow.set('button',\"On\");\n        flow.set('nmTime',time);\n        break;\n    case \"OF\":\n        flow.set('button',\"NoMotion\");\n        flow.set('nmTime',time);\n        msg = null;\n        break;\n    default:\n        msg = null;\n}\nreturn msg;","outputs":1,"noerr":0,"x":580,"y":180,"wires":[["e8acce2b.83e86","6f792430.521cec"]]},{"id":"ddbc3f3e.64ee4","type":"inject","z":"fbc89743.be5a68","name":"injectCheckKitchenLights","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"x":192.75926208496094,"y":303.65047454833984,"wires":[["ba397274.1a1d7"]]},{"id":"ba397274.1a1d7","type":"function","z":"fbc89743.be5a68","name":"CheckKitchenLights","func":"time=new Date();\nmsg.payload = null;\nif (flow.get('button') == \"NoMotion\") {\n    nmTime = flow.get('nmTime');\n    if ((time-nmTime) > 45000) {\n        msg.payload=\"aKLRELAYAOFF\";\n        flow.set('button',\"OFF\");\n    }    \n}\nif (msg.payload !== null) {\n    return msg;\n}","outputs":1,"noerr":0,"x":589.7616119384766,"y":267.1111068725586,"wires":[["5f60f8d7.5226b8","6f792430.521cec"]]},{"id":"e8acce2b.83e86","type":"debug","z":"fbc89743.be5a68","name":"dbAfterControl","active":true,"console":"false","complete":"payload","x":843.7569427490234,"y":180.2083511352539,"wires":[]},{"id":"e54614b6.040f68","type":"inject","z":"fbc89743.be5a68","name":"injectButtonOn","topic":"","payload":"BUTTONAON","payloadType":"str","repeat":"","crontab":"","once":false,"x":148.75462341308594,"y":27.65509033203125,"wires":[["2d9177d4.d7cfd8"]]},{"id":"cbf595d.53c0c68","type":"inject","z":"fbc89743.be5a68","name":"injectButtonOff","topic":"","payload":"BUTTONAOF","payloadType":"str","repeat":"","crontab":"","once":false,"x":131.76388549804688,"y":69.65740203857422,"wires":[["2d9177d4.d7cfd8"]]},{"id":"6211d245.f68a2c","type":"debug","z":"fbc89743.be5a68","name":"dbBefore","active":true,"console":"false","complete":"payload","x":614.7639007568359,"y":111.87963104248047,"wires":[]},{"id":"4595ac17.e49704","type":"debug","z":"fbc89743.be5a68","name":"dbFlownmTime","active":false,"console":"false","complete":"topic","x":794.7639007568359,"y":357.87271881103516,"wires":[]},{"id":"679babe8.16a124","type":"function","z":"fbc89743.be5a68","name":"PrepFlowVariables","func":"time = new Date();\nmsg.payload = flow.get('button');\nnmTime = flow.get('nmTime');\nmsg.topic = (time-nmTime)/1000;\nreturn [msg];","outputs":"1","noerr":0,"x":581.7639312744141,"y":326.15047454833984,"wires":[["8f071b4b.a35708","4595ac17.e49704"]]},{"id":"8f071b4b.a35708","type":"debug","z":"fbc89743.be5a68","name":"dbFlowButton","active":false,"console":"false","complete":"payload","x":798.7546234130859,"y":317.4745559692383,"wires":[]},{"id":"a7944900.0318c8","type":"inject","z":"fbc89743.be5a68","name":"injectCheckFlows","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":254.76158142089844,"y":346.9838180541992,"wires":[["679babe8.16a124"]]},{"id":"5f60f8d7.5226b8","type":"debug","z":"fbc89743.be5a68","name":"dbAfterCheck","active":false,"console":"false","complete":"payload","x":795.7569732666016,"y":274.6227035522461,"wires":[]},{"id":"915f4fd1.971fc","type":"mqtt in","z":"b30b99da.aab058","name":"DayNightIn","topic":"PiForLiam/daynight/","qos":"2","broker":"1b3b61b.3f1169e","x":172.3333282470703,"y":66.33332824707031,"wires":[["cd673f34.2b08f","1f8a540d.5e744c"]]},{"id":"cd673f34.2b08f","type":"function","z":"b30b99da.aab058","name":"PrepDNTweet","func":"t=new Date().toString();\ntime = t.slice(15,28);\nif (msg.payload == \"day\") {\n    msg.payload = (\"LL says it's day at \" + time);\n}\nif (msg.payload == \"night\") {\n    msg.payload = (\"LL says it's night at \" + time);\n}\nreturn msg;","outputs":1,"noerr":0,"x":347.3333282470703,"y":66.13887023925781,"wires":[["e92cd06c.decaa"]]},{"id":"e92cd06c.decaa","type":"twitter out","z":"b30b99da.aab058","twitter":"53e1fada.b348c4","name":"DayNightTweet","x":557.3333587646484,"y":66.94212341308594,"wires":[]},{"id":"1f8a540d.5e744c","type":"function","z":"b30b99da.aab058","name":"PrepMotePhat","func":"if (msg.payload == \"day\" ) {\n    msg.payload = \"off\";\n}\nif (msg.payload == \"night\") {\n    msg.payload = \"on\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":346.3263702392578,"y":115.81248474121094,"wires":[["a05bed2b.296c9","d4cdcf5.67dcf3"]]},{"id":"a05bed2b.296c9","type":"mqtt out","z":"b30b99da.aab058","name":"mqttMotePhat","topic":"PiforLiam/motephat","qos":"2","retain":"","broker":"1b3b61b.3f1169e","x":560.3310394287109,"y":115.76155090332031,"wires":[]},{"id":"b4a6fa.b6159908","type":"inject","z":"b30b99da.aab058","name":"","topic":"","payload":"day","payloadType":"str","repeat":"","crontab":"","once":false,"x":124.33563232421875,"y":175.4536895751953,"wires":[["1f8a540d.5e744c"]]},{"id":"917dd789.5d8658","type":"inject","z":"b30b99da.aab058","name":"","topic":"","payload":"night","payloadType":"str","repeat":"","crontab":"","once":false,"x":101.32637023925781,"y":223.4513702392578,"wires":[["1f8a540d.5e744c"]]},{"id":"d4cdcf5.67dcf3","type":"debug","z":"b30b99da.aab058","name":"","active":false,"console":"false","complete":"false","x":528.3287200927734,"y":180.38426208496094,"wires":[]},{"id":"842ee7ed.65b928","type":"inject","z":"b30b99da.aab058","name":"","topic":"","payload":"BRIGHT 0.2","payloadType":"str","repeat":"","crontab":"","once":false,"x":90.71589660644531,"y":267.7708053588867,"wires":[["a05bed2b.296c9"]]},{"id":"117d4cb3.688353","type":"ui_gauge","z":"55a9dafd.794544","name":"Light Meter Battery","group":"cb22e126.4c3cb","order":1,"width":"3","height":"3","gtype":"wave","title":"Gauge","label":"v","format":"{{value}}","min":"2","max":"3.3","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790.7545928955078,"y":167.83334350585938,"wires":[]},{"id":"96fe782d.da11a8","type":"function","z":"55a9dafd.794544","name":"prepareLightUI","func":"if (msg.payload.slice(1,4)==\"VAL\") {\n    //trigger to get data from db\n    msg.topic = \"SELECT time,value FROM lightLevel ORDER BY lightKey DESC LIMIT 150;\";\n//    value=msg.payload.slice(4,9);  \n    msg.topic=\"light levels\"\n    msg.payload=msg.payload.slice(4,9);\n    return [msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\") {\n    value=msg.payload.slice(4,8);\n    msg.payload=value;\n    return [null,msg];\n}","outputs":"2","noerr":0,"x":548.7568817138672,"y":47.3101806640625,"wires":[["371d8db3.d97a52","4fbf6444.e14a2c","6d6b401d.e07b6"],["117d4cb3.688353","371d8db3.d97a52","4fbf6444.e14a2c"]]},{"id":"f404cdcd.fbbfd","type":"debug","z":"55a9dafd.794544","name":"dbLightFromDatabase","active":false,"console":"false","complete":"true","x":1130.75927734375,"y":44.9930419921875,"wires":[]},{"id":"371d8db3.d97a52","type":"debug","z":"55a9dafd.794544","name":"dbprepLightUI","active":false,"console":"false","complete":"true","x":552.7639007568359,"y":92.9930419921875,"wires":[]},{"id":"3ab723e9.d0ac7c","type":"function","z":"55a9dafd.794544","name":"TestChartDB","func":"var tuple = [];\nvar values = [];\nvar form = [];\nfor (i=0;i<msg.payload.length;i++) {\n    tuple=[msg.payload[i].time,msg.payload[i].value];\n    values[i] = tuple;\n}\nkey=\"LL\";\nform = [{key,values}];\nmsg.payload=form;\nmsg.topic=\"LL\";\nreturn msg;","outputs":1,"noerr":0,"x":775.7546577453613,"y":84.49307250976562,"wires":[["3daf2990.9975a6","6d6b401d.e07b6"]]},{"id":"3daf2990.9975a6","type":"debug","z":"55a9dafd.794544","name":"dbToChart","active":false,"console":"false","complete":"true","x":971.7546577453613,"y":85.3240966796875,"wires":[]},{"id":"6d6b401d.e07b6","type":"ui_chart","z":"55a9dafd.794544","name":"Light Level Chart","group":"394970e8.eeb7b","order":1,"width":0,"height":0,"label":"chart","chartType":"line","legend":"false","xformat":"HH:mm","interpolate":"linear","nodata":"Light Level","ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"150","removeOlderUnit":"3600","cutout":0,"x":790.2661895751953,"y":126.28240203857422,"wires":[[],[]]},{"id":"4fbf6444.e14a2c","type":"function","z":"55a9dafd.794544","name":"PrepLLLastheard","func":"time=new Date();\nvar lh = context.get('lllastheard') || time;\ncontext.set('lllastheard',lh);\n//msg.payload = \"<p style='color:white;'> \" + lh + \"</p>\";\nif ((time-lh) <= 60000) {\nmsg.payload = \"it's been less than 1 minute\";\n}\nif ((time-lh) > 60000) {\nmsg.payload = \"it's been over 1 minute\";\n}\nif ((time-lh) > 300000) {\nmsg.payload = \"it's been over 5 minutes\";\n}\nif ((time-lh) > 600000) {\nmsg.payload = \"it's been over 10 minutes\";\n}\nif ((time-lh) > 3600000) {\nmsg.payload = lh;\n}\nif (msg.topic != \"checking\") {\n    context.set('lllastheard',time);\n}\nreturn msg;","outputs":1,"noerr":0,"x":567.7568817138672,"y":142.63194274902344,"wires":[["98b3b2d1.28fc1"]]},{"id":"98b3b2d1.28fc1","type":"ui_template","z":"55a9dafd.794544","group":"cb22e126.4c3cb","name":"LLLastheardText","order":6,"width":"","height":"","format":"<div layout=\"row\" layout-align=\"space-between\">\n    <p>Light last heard at </p></p>\n    <div ng-bind-html=\"msg.payload\"></div>\n</div>","storeOutMessages":true,"fwdInMessages":true,"x":781.2661590576172,"y":211.2824249267578,"wires":[[]]},{"id":"cc50af04.ab485","type":"ui_gauge","z":"55a9dafd.794544","name":"KitchenPIRBattery","group":"cb22e126.4c3cb","order":2,"width":"3","height":"3","gtype":"wave","title":"Kitchen PIR Battery","label":"v","format":"{{value}}","min":"2","max":"3.3","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":782.8333053588867,"y":299.66663360595703,"wires":[]},{"id":"20e85a2d.859d36","type":"ui_text","z":"55a9dafd.794544","group":"cb22e126.4c3cb","order":5,"width":0,"height":0,"name":"KitchenPIRLastHeard","label":"PIR last heard at ","format":"{{msg.payload}}","layout":"row-spread","x":791.8333053588867,"y":338.3333206176758,"wires":[]},{"id":"407e4c93.2e14f4","type":"ui_text","z":"55a9dafd.794544","group":"cb22e126.4c3cb","order":3,"width":0,"height":0,"name":"KitchenPIRStatus","label":"PIR is ","format":"{{msg.payload}}","layout":"row-spread","x":783.8333053588867,"y":261.3333206176758,"wires":[]},{"id":"a050a835.94bd28","type":"ui_text","z":"55a9dafd.794544","group":"cb22e126.4c3cb","order":4,"width":0,"height":0,"name":"KitchenRelayStatus","label":"Relay is ","format":"{{msg.payload}}","layout":"row-spread","x":784.8333129882812,"y":397.3332977294922,"wires":[]},{"id":"29a2adf0.40f8c2","type":"mqtt in","z":"55a9dafd.794544","name":"mqttReceived","topic":"PiForLiam/Received/#","qos":"2","broker":"1f3f30a6.6a314f","x":80.83332824707031,"y":61.000030517578125,"wires":[["575c3195.9910a","5f48063f.ec2d78"]]},{"id":"575c3195.9910a","type":"switch","z":"55a9dafd.794544","name":"SwitchDevice","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"PiForLiam/Received/LL","vt":"str"},{"t":"eq","v":"PiForLiam/Received/KP","vt":"str"},{"t":"eq","v":"PiForLiam/Received/KL","vt":"str"}],"checkall":"true","outputs":3,"x":304.83331298828125,"y":61.666656494140625,"wires":[["96fe782d.da11a8"],["86ded4b0.3edf88"],["9b1284f0.18a0a8"]]},{"id":"86ded4b0.3edf88","type":"function","z":"55a9dafd.794544","name":"prepPIRUI","func":"if (msg.payload ==\"BUTTONAON\") {\n    msg.payload = \"ON\"\n    return [msg,null];\n}\nif (msg.payload ==\"BUTTONAOF\") {\n    msg.payload = \"OFF\"\n    return [msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\") {\n    value=msg.payload.slice(4,8);\n    msg.payload=value;\n    return [null,msg];\n}","outputs":"2","noerr":0,"x":544.8333435058594,"y":254.33331298828125,"wires":[["a66448fb.bd1fc8","664a8695.0f25a8","407e4c93.2e14f4"],["a66448fb.bd1fc8","664a8695.0f25a8","cc50af04.ab485"]]},{"id":"a66448fb.bd1fc8","type":"debug","z":"55a9dafd.794544","name":"dbPrepPIRUI","active":false,"console":"false","complete":"payload","x":542.8333435058594,"y":294.33331298828125,"wires":[]},{"id":"664a8695.0f25a8","type":"function","z":"55a9dafd.794544","name":"prepPIRLastHeard","func":"time=new Date();\nvar ph = context.get('kplastheard') || time;\ncontext.set('kplastheard',ph);\n//msg.payload = \"<p style='color:white;'> \" + lh + \"</p>\";\nif ((time-ph) <= 60000) {\nmsg.payload = \"it's been less than 1 minute\";\n}\nif ((time-ph) > 60000) {\nmsg.payload = \"it's been over 1 minute\";\n}\nif ((time-ph) > 300000) {\nmsg.payload = \"it's been over 5 minutes\";\n}\nif ((time-ph) > 600000) {\nmsg.payload = \"it's been over 10 minutes\";\n}\nif ((time-ph) > 3600000) {\nmsg.payload = ph;\n}\nif (msg.topic != \"checking\") {\n    context.set('kplastheard',time);\n}\nreturn msg;","outputs":1,"noerr":0,"x":558.8901062011719,"y":338.40909576416016,"wires":[["20e85a2d.859d36"]]},{"id":"7c7d2c7e.7b0754","type":"ui_text","z":"55a9dafd.794544","group":"cb22e126.4c3cb","order":7,"width":0,"height":0,"name":"KitchenRelayLastHeard","label":"Relay last heard at","format":"{{msg.payload}}","layout":"row-spread","x":807.8957443237305,"y":482.348445892334,"wires":[]},{"id":"9b1284f0.18a0a8","type":"function","z":"55a9dafd.794544","name":"prepRelayUI","func":"if (msg.payload ==\"RELAYAON-\") {\n    msg.payload = \"ON\"\n    return msg;\n}\nif (msg.payload ==\"RELAYAOFF\") {\n    msg.payload = \"OFF\"\n    return msg;\n}\n","outputs":"1","noerr":0,"x":541.5795288085938,"y":397.7878723144531,"wires":[["e9ae6a6b.6ff6d8","36263dcb.ef15a2","a050a835.94bd28"]]},{"id":"e9ae6a6b.6ff6d8","type":"debug","z":"55a9dafd.794544","name":"dbPrepRelayUI","active":false,"console":"false","complete":"payload","x":549.5795288085938,"y":437.7878723144531,"wires":[]},{"id":"36263dcb.ef15a2","type":"function","z":"55a9dafd.794544","name":"prepRelayLastHeard","func":"time=new Date();\nvar rh = context.get('kllastheard') || time;\ncontext.set('kllastheard',rh);\n//msg.payload = \"<p style='color:white;'> \" + lh + \"</p>\";\nif ((time-rh) <= 60000) {\nmsg.payload = \"it's been less than 1 minute\";\n}\nif ((time-rh) > 60000) {\nmsg.payload = \"it's been over 1 minute\";\n}\nif ((time-rh) > 300000) {\nmsg.payload = \"it's been over 5 minutes\";\n}\nif ((time-rh) > 600000) {\nmsg.payload = \"it's been over 10 minutes\";\n}\nif ((time-rh) > 3600000) {\nmsg.payload = rh;\n}\nif (msg.topic != \"checking\") {\n    context.set('kllastheard',time);\n}\nreturn msg;","outputs":1,"noerr":0,"x":565.6362915039062,"y":481.86365509033203,"wires":[["7c7d2c7e.7b0754"]]},{"id":"56ab6a31.a77024","type":"inject","z":"55a9dafd.794544","name":"inCheckRelay","topic":"","payload":"aKLRELAYA---","payloadType":"str","repeat":"60","crontab":"","once":false,"x":105.71589660644531,"y":205.76512908935547,"wires":[["4ec875ed.0ba1ec"]]},{"id":"4ec875ed.0ba1ec","type":"mqtt out","z":"55a9dafd.794544","name":"mqttCheckKitchenRelay","topic":"PiForLiam/Transmit","qos":"2","retain":"","broker":"1f3f30a6.6a314f","x":311.71209716796875,"y":206.13257598876953,"wires":[]},{"id":"5f48063f.ec2d78","type":"debug","z":"55a9dafd.794544","name":"dbMQTTReceivedUI","active":false,"console":"false","complete":"true","x":274.710205078125,"y":115.78218841552734,"wires":[]},{"id":"c78f4d27.40b08","type":"inject","z":"55a9dafd.794544","name":"CheckLastHeard","topic":"checking","payload":"","payloadType":"date","repeat":"66","crontab":"","once":false,"x":276.710205078125,"y":337.52269744873047,"wires":[["4fbf6444.e14a2c","664a8695.0f25a8","36263dcb.ef15a2"]]},{"id":"5a506520.e55f3c","type":"mqtt in","z":"ba0c44d1.a4a2a8","name":"mqttBedroomTemp","topic":"PiForLiam/Received/BT","qos":"2","broker":"f99ada80.47b138","x":109.16667175292969,"y":50.333335876464844,"wires":[["1a0af983.1c9696"]]},{"id":"4fa2e16b.053b9","type":"mqtt in","z":"ba0c44d1.a4a2a8","name":"mqttSpareRoomTemp","topic":"PiForLiam/Received/ST","qos":"2","broker":"f99ada80.47b138","x":115.16667175292969,"y":98.33334350585938,"wires":[["b10f28e6.62fe08"]]},{"id":"72da3d4d.c49534","type":"mqtt in","z":"ba0c44d1.a4a2a8","name":"mqttLivingRoomTemp","topic":"PiForLiam/Received/LT","qos":"2","broker":"f99ada80.47b138","x":113.16667175292969,"y":142.33334350585938,"wires":[["6f6dad58.3ae6b4"]]},{"id":"60d1ef7a.f02c1","type":"mqtt in","z":"ba0c44d1.a4a2a8","name":"mqttKitchenTemp","topic":"PiForLiam/Received/KT","qos":"2","broker":"f99ada80.47b138","x":95.16667175292969,"y":188.33334350585938,"wires":[["7fb5807e.f62fe"]]},{"id":"b8278e6b.a2c61","type":"mqtt in","z":"ba0c44d1.a4a2a8","name":"mqttOutsideTemp","topic":"PiForLiam/Received/OT","qos":"2","broker":"f99ada80.47b138","x":97.16667175292969,"y":234.33334350585938,"wires":[["2fb9b7b8.3d9548"]]},{"id":"1a0af983.1c9696","type":"function","z":"ba0c44d1.a4a2a8","name":"adjustBedroom","func":"device=\"Bedroom\";\nif (msg.payload.slice(0,4)==\"TMPA\"){\n    value=msg.payload.slice(4,10);\n    msg.payload = parseFloat(value)-0.34;\n    msg.topic=device;\n    return[msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\"){\n    value=msg.payload.slice(4,8);\n    msg.payload=value;\n    return [null,msg];\n}","outputs":"2","noerr":0,"x":333.1667022705078,"y":49.00000286102295,"wires":[["ea365285.8544"],["5cfa3b17.4712f4"]]},{"id":"b10f28e6.62fe08","type":"function","z":"ba0c44d1.a4a2a8","name":"adjustSpareroom","func":"device=\"Spare Room\";\nif (msg.payload.slice(0,4)==\"TMPA\"){\n    value=msg.payload.slice(4,10);\n    msg.payload = parseFloat(value)+8.0;\n    msg.topic=device;\n    return[msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\"){\n    value=msg.payload.slice(4,8);\n    msg.payload=value;\n    return [null,msg];\n}","outputs":"2","noerr":0,"x":341.1667022705078,"y":97.0000057220459,"wires":[["ea365285.8544"],["387fa17.ab1675e"]]},{"id":"6f6dad58.3ae6b4","type":"function","z":"ba0c44d1.a4a2a8","name":"adjustLivingroom","func":"device=\"Living Room\";\nif (msg.payload.slice(0,4)==\"TMPA\"){\n    value=msg.payload.slice(4,10);\n    msg.payload = parseFloat(value)-0.39;\n    msg.topic=device;\n    return[msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\"){\n    value=msg.payload.slice(4,8);\n    msg.payload=value;\n    return [null,msg];\n}","outputs":"2","noerr":0,"x":335.1667022705078,"y":143.00000858306885,"wires":[["ea365285.8544"],["18fae0dc.acbc0f"]]},{"id":"7fb5807e.f62fe","type":"function","z":"ba0c44d1.a4a2a8","name":"adjustKitchen","func":"device=\"Kitchen\";\nif (msg.payload.slice(0,4)==\"TMPA\"){\n    value=msg.payload.slice(4,10);\n    msg.payload = parseFloat(value)-0.00;\n    msg.topic=device;\n    return[msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\"){\n    value=msg.payload.slice(4,8);\n    msg.payload=value;\n    return [null,msg];\n}","outputs":"2","noerr":0,"x":319.1667022705078,"y":185.0000114440918,"wires":[["ea365285.8544"],["217d51de.e15a4e"]]},{"id":"2fb9b7b8.3d9548","type":"function","z":"ba0c44d1.a4a2a8","name":"adjustOutside","func":"device=\"Outside\";\nif (msg.payload.slice(0,4)==\"TMPA\"){\n    value=msg.payload.slice(4,10);\n    msg.payload = parseFloat(value)-0.0;\n    msg.topic=device;\n    return[msg,null];\n}\nif (msg.payload.slice(0,4)==\"BATT\"){\n    value=msg.payload.slice(4,8);\n    msg.payload=value;\n    return [null,msg];\n}","outputs":"2","noerr":0,"x":319.1667022705078,"y":227.00001430511475,"wires":[["ea365285.8544"],["3ffe0597.c8202a"]]},{"id":"ea365285.8544","type":"ui_chart","z":"ba0c44d1.a4a2a8","name":"chartTemperatures","group":"84567535.c79908","order":0,"width":0,"height":0,"label":"Temps","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","ymin":"","ymax":"","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"x":630,"y":60,"wires":[[],[]]},{"id":"640f6c47.84f3a4","type":"comment","z":"55a9dafd.794544","name":"sqlite","info":"","x":770,"y":40,"wires":[]},{"id":"97ab933a.611c6","type":"comment","z":"6b3e3f7a.0357f","name":"sqlite","info":"","x":660,"y":220,"wires":[]},{"id":"568f223c.31986c","type":"mqtt in","z":"b48bac2f.f9e9f","name":"DayNightIn","topic":"PiForLiam/daynight/","qos":"2","broker":"1b3b61b.3f1169e","x":140,"y":80,"wires":[["cbbd4408.7d5268"]]},{"id":"cbbd4408.7d5268","type":"function","z":"b48bac2f.f9e9f","name":"prepSonoff1","func":"if (msg.payload == \"day\" ) {\n    msg.payload = 0;\n}\nif (msg.payload == \"night\") {\n    msg.payload = 1;\n}\nreturn msg;","outputs":1,"noerr":0,"x":340,"y":100,"wires":[["cd4cf572.4f8078","7a35765e.a54ec8"]]},{"id":"cd4cf572.4f8078","type":"mqtt out","z":"b48bac2f.f9e9f","name":"mqttSonoff1","topic":"/Sonoff1/gpio/12","qos":"2","retain":"","broker":"f99ada80.47b138","x":560,"y":120,"wires":[]},{"id":"a86f2dda.f3907","type":"inject","z":"b48bac2f.f9e9f","name":"day","topic":"","payload":"day","payloadType":"str","repeat":"","crontab":"","once":false,"x":90,"y":180,"wires":[["cbbd4408.7d5268"]]},{"id":"986ec536.98c4c8","type":"inject","z":"b48bac2f.f9e9f","name":"","topic":"","payload":"night","payloadType":"str","repeat":"","crontab":"","once":false,"x":90,"y":240,"wires":[["cbbd4408.7d5268"]]},{"id":"8a20b6af.be4768","type":"inject","z":"b48bac2f.f9e9f","name":"TurnOffSonoff1","topic":"Sonoff1/GPIO/12","payload":"day","payloadType":"str","repeat":"","crontab":"30 22 * * *","once":false,"x":120,"y":300,"wires":[["cbbd4408.7d5268"]]},{"id":"5cfa3b17.4712f4","type":"ui_gauge","z":"ba0c44d1.a4a2a8","name":"Bedroom","group":"aa7e6c16.ae98","order":0,"width":"2","height":"2","gtype":"wave","title":"Bedroom","label":"v","format":"{{value}}","min":"2.2","max":"3.5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":600,"y":120,"wires":[]},{"id":"387fa17.ab1675e","type":"ui_gauge","z":"ba0c44d1.a4a2a8","name":"Spare Room","group":"aa7e6c16.ae98","order":0,"width":"2","height":"2","gtype":"wave","title":"Spare Room","label":"v","format":"{{value}}","min":"2.2","max":"3.5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":610,"y":160,"wires":[]},{"id":"18fae0dc.acbc0f","type":"ui_gauge","z":"ba0c44d1.a4a2a8","name":"Living Room","group":"aa7e6c16.ae98","order":0,"width":"2","height":"2","gtype":"wave","title":"Living Room","label":"v","format":"{{value}}","min":"2.2","max":"3.5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":610,"y":200,"wires":[]},{"id":"217d51de.e15a4e","type":"ui_gauge","z":"ba0c44d1.a4a2a8","name":"Kitchen","group":"aa7e6c16.ae98","order":0,"width":"2","height":"2","gtype":"wave","title":"Kitchen","label":"v","format":"{{value}}","min":"2.2","max":"3.5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":600,"y":240,"wires":[]},{"id":"3ffe0597.c8202a","type":"ui_gauge","z":"ba0c44d1.a4a2a8","name":"Outside","group":"aa7e6c16.ae98","order":0,"width":"2","height":"2","gtype":"wave","title":"Outside","label":"v","format":"{{value}}","min":"2.2","max":"3.5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":600,"y":280,"wires":[]},{"id":"7a35765e.a54ec8","type":"debug","z":"b48bac2f.f9e9f","name":"debugSonoff1","active":false,"console":"false","complete":"payload","x":570,"y":180,"wires":[]},{"id":"830a027a.a9c4d","type":"ui_switch","z":"55a9dafd.794544","name":"Mote Lights","label":"Motes","group":"816877db.4f1978","order":0,"width":"2","height":"2","passthru":false,"decouple":"true","topic":"PiforLiam/motephat","style":"","onvalue":"on","onvalueType":"str","onicon":"","oncolor":"","offvalue":"off","offvalueType":"str","officon":"","offcolor":"","x":393,"y":560,"wires":[["a8cca064.9996c"]]},{"id":"a8cca064.9996c","type":"mqtt out","z":"55a9dafd.794544","name":"mqttMoteLightsOutButton","topic":"PiforLiam/motephat","qos":"","retain":"","broker":"f99ada80.47b138","x":610,"y":560,"wires":[]},{"id":"fb7679ed.a9ea38","type":"mqtt in","z":"55a9dafd.794544","name":"mqttMoteLightsInButton","topic":"PiforLiam/motephat","qos":"2","broker":"f99ada80.47b138","x":160,"y":560,"wires":[["830a027a.a9c4d"]]},{"id":"4d141204.bd992c","type":"mqtt in","z":"55a9dafd.794544","name":"mqttKitchenLightsButton","topic":"PiForLiam/Received/KL","qos":"2","broker":"f99ada80.47b138","x":110,"y":620,"wires":[["ea6eec0f.8695e"]]},{"id":"493114ef.ddb93c","type":"ui_switch","z":"55a9dafd.794544","name":"Kitchen Lights","label":"Kitchen","group":"816877db.4f1978","order":0,"width":"2","height":"2","passthru":false,"decouple":"true","topic":"","style":"","onvalue":"on","onvalueType":"str","onicon":"","oncolor":"","offvalue":"off","offvalueType":"str","officon":"","offcolor":"","x":520,"y":620,"wires":[["7f43a411.a11a4c"]]},{"id":"7f43a411.a11a4c","type":"function","z":"55a9dafd.794544","name":"toggleKitchenLights","func":"var msg1 = { payload: \"kats\"};\nvar msg2 = { payload: \"dogz\"};\nif (msg.payload == \"on\") {\n    msg1.payload=\"aKLRELAYAON-\";\n    msg2.payload=\"BUTTONAON\";\n}\nif (msg.payload == \"off\") {\n    msg1.payload=\"aKLRELAYAOFF\";\n    msg2.payload=\"BUTTONAOF\";\n}\nreturn [msg1,msg2];","outputs":"2","noerr":0,"x":730,"y":620,"wires":[["c9a35854.46f1a8"],["67a34a97.6c2f44"]]},{"id":"c9a35854.46f1a8","type":"mqtt out","z":"55a9dafd.794544","name":"mqttKitchenLights","topic":"PiForLiam/Transmit","qos":"2","retain":"","broker":"f99ada80.47b138","x":970,"y":580,"wires":[]},{"id":"67a34a97.6c2f44","type":"mqtt out","z":"55a9dafd.794544","name":"mqttTogglePIR","topic":"PiForLiam/Received/KP","qos":"2","retain":"","broker":"f99ada80.47b138","x":959,"y":660,"wires":[]},{"id":"ea6eec0f.8695e","type":"function","z":"55a9dafd.794544","name":"prepKitchenButton","func":"if (msg.payload==\"RELAYAON-\"){\n    msg.payload=\"on\";\n}\nif (msg.payload==\"RELAYAOFF\") {\n    msg.payload=\"off\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":620,"wires":[["493114ef.ddb93c"]]},{"id":"490c29cd.63e138","type":"ui_switch","z":"55a9dafd.794544","name":"Sonoff1Button","label":"Tetris","group":"816877db.4f1978","order":0,"width":"2","height":"2","passthru":false,"decouple":"false","topic":"/Sonoff1/gpio/12","style":"","onvalue":"1","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":390,"y":682,"wires":[["46bdbf4c.dabb8","f07dd353.1e155"]]},{"id":"46bdbf4c.dabb8","type":"mqtt out","z":"55a9dafd.794544","name":"mqttSonoff1ButtonOut","topic":"/Sonoff1/gpio/12","qos":"2","retain":"","broker":"f99ada80.47b138","x":610,"y":683,"wires":[]},{"id":"f07dd353.1e155","type":"debug","z":"55a9dafd.794544","name":"debugTetris","active":true,"console":"false","complete":"true","x":560,"y":760,"wires":[]}]
